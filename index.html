<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Naruto RPG - Save & Kurama Mode</title>
<style>
  html, body { margin: 0; padding: 0; background: #000; color: white; font-family: Arial, sans-serif; overflow: hidden; }
  canvas { display: block; margin: 0 auto; background-size: cover; }
  #ui { position: absolute; top: 10px; left: 10px; z-index: 10; display: flex; flex-wrap: wrap; gap: 5px; }
  #chakra { position: absolute; bottom: 10px; left: 10px; background: blue; height: 10px; width: 100px; border: 1px solid white; }
  #chakra::after { content: ''; display: block; height: 100%; background: cyan; width: 100%; transition: width 0.2s; }
  #log { position: absolute; bottom: 30px; left: 10px; font-size: 14px; max-width: 300px; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 5px; }
  button { background: #f90; color: white; border: none; padding: 5px 10px; border-radius: 5px; }
</style>
</head>
<body>
<audio id="sndKunai" src="https://cdn.pixabay.com/audio/2021/08/04/audio_6eabbf4e6a.mp3"></audio>
<audio id="sndRoar" src="https://cdn.pixabay.com/audio/2022/03/10/audio_bf5a5d453b.mp3"></audio>
<div id="ui">
  <button onclick="doAction('kunai')">Kunai</button>
  <button onclick="doAction('shuriken')">Shuriken</button>
  <button onclick="doAction('fireball')">Fireball</button>
  <button onclick="doAction('rasengan')">Rasengan</button>
  <button onclick="doAction('chidori')">Chidori</button>
  <button onclick="doAction('shadowClone')">Shadow Clone</button>
  <button onclick="doAction('heal')">Heal</button>
  <button onclick="doAction('summon')">Summon (Gamakichi)</button>
  <button onclick="doAction('summonAlt')">Summon (Katsuyu)</button>
  <button onclick="doAction('transform')">Beast Cloak</button>
  <button onclick="doAction('kuramaMode')">Kurama Mode</button>
  <button onclick="doAction('bijuuFinal')">Final Bijuu Form</button>
  <button onclick="doAction('roar')">Roar</button>
  <button onclick="startMission()">Mission</button>
  <button onclick="travelVillage()">Travel Village</button>
  <button onclick="saveGame()">Save</button>
  <button onclick="loadGame()">Load</button>
  <button onclick="resetGame()">Reset</button>
  <span>HP: <span id="hp">100</span></span>
</div>
<div id="chakra"><div id="chakraBar"></div></div>
<div id="log">Welcome to the Naruto RPG!</div>
<canvas id="gameCanvas" width="800" height="500"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const sndKunai = document.getElementById('sndKunai');
const sndRoar = document.getElementById('sndRoar');
let player = {
  x: 400, y: 250, size: 20, color: 'orange', vx: 0, vy: 0,
  hp: 100, chakra: 100, element: 'Fire', bloodline: 'Uzumaki', stage: 0
};
let enemies = [], kunais = [], shurikens = [], fireballs = [], rasengans = [], chidori = [], clones = [], summons = [];
let currentVillage = 'Leaf';
const villageMaps = {
  Leaf: 'https://i.ibb.co/jVjsZ7z/leaf-village-bg.jpg',
  Sand: 'https://i.ibb.co/dLQLh3K/sand-village.jpg',
  Mist: 'https://i.ibb.co/vHmy7cp/mist-village.jpg',
  Cloud: 'https://i.ibb.co/ZhVb6Jx/cloud-village.jpg',
  Stone: 'https://i.ibb.co/T01dGWZ/stone-village.jpg'
};
canvas.style.backgroundImage = `url('${villageMaps[currentVillage]}')`;function drawPlayer() { const stages = ['orange', 'gold', 'red', 'darkred']; ctx.fillStyle = stages[player.stage] || 'orange'; ctx.beginPath(); ctx.arc(player.x, player.y, player.size, 0, Math.PI * 2); ctx.fill(); ctx.fillStyle = 'white'; ctx.fillText(${player.bloodline} | ${player.element}, player.x - 30, player.y - 25); ctx.fillText(Village: ${currentVillage}, player.x - 30, player.y - 40); }

function drawObjects(list, color, size) { ctx.fillStyle = color; list.forEach(p => { ctx.fillRect(p.x, p.y, size.w, size.h); p.x += p.vx; }); }

function drawEnemies() { ctx.fillStyle = 'red'; enemies.forEach(e => { ctx.fillRect(e.x, e.y, e.size, e.size); if (player.x < e.x) e.x -= 0.5; else e.x += 0.5; if (player.y < e.y) e.y -= 0.5; else e.y += 0.5; if (Math.abs(player.x - e.x) < 20 && Math.abs(player.y - e.y) < 20) { player.hp -= 1; updateHUD(); } }); }

function drawSummons() { summons.forEach(s => { ctx.fillStyle = s.type === 'katsuyu' ? 'lightblue' : 'purple'; ctx.fillRect(s.x, s.y, 30, 30); ctx.fillStyle = 'white'; ctx.fillText(s.type.toUpperCase(), s.x, s.y - 5); }); }

function doAction(type) { if (type === 'kunai') { kunais.push({ x: player.x, y: player.y, vx: 6 }); sndKunai.play(); } if (type === 'shuriken') shurikens.push({ x: player.x, y: player.y, vx: 8 }); if (type === 'fireball' && player.chakra >= 10) { fireballs.push({ x: player.x, y: player.y, vx: 7 }); player.chakra -= 10; } if (type === 'rasengan' && player.chakra >= 20) { rasengans.push({ x: player.x, y: player.y, vx: 9 }); player.chakra -= 20; } if (type === 'chidori' && player.chakra >= 20) { chidori.push({ x: player.x, y: player.y, vx: 10 }); player.chakra -= 20; } if (type === 'shadowClone' && player.chakra >= 15) { clones.push({ x: player.x + 30, y: player.y }); player.chakra -= 15; } if (type === 'summon' && player.chakra >= 30) { summons.push({ x: player.x + 40, y: player.y, type: 'gamakichi' }); player.chakra -= 30; log("Summoned Gamakichi!"); } if (type === 'summonAlt' && player.chakra >= 30) { summons.push({ x: player.x - 40, y: player.y, type: 'katsuyu' }); player.chakra -= 30; log("Summoned Katsuyu!"); } if (type === 'heal' && player.chakra >= 20) { player.hp += 20; if (player.hp > 100) player.hp = 100; player.chakra -= 20; } if (type === 'transform' && player.chakra >= 50) { player.stage = 1; player.size = 25; player.chakra -= 50; log("Beast Cloak activated!"); } if (type === 'kuramaMode' && player.chakra >= 70) { player.stage = 2; player.size = 28; player.chakra -= 70; log("Kurama Chakra Mode!"); } if (type === 'bijuuFinal' && player.chakra >= 90) { player.stage = 3; player.size = 32; player.chakra -= 90; log("Final Bijuu Transformation!"); } if (type === 'roar' && player.stage > 0) { log("RAAAAAWR!!!"); sndRoar.play(); enemies.forEach(e => e.x += 20); } updateHUD(); }

function startMission() { enemies.push({ x: 50, y: 50, size: 20 }); log(Mission: Defend the ${currentVillage} Village!); }

function travelVillage() { const villages = Object.keys(villageMaps); const currentIndex = villages.indexOf(currentVillage); currentVillage = villages[(currentIndex + 1) % villages.length]; canvas.style.backgroundImage = url('${villageMaps[currentVillage]}'); log(You traveled to ${currentVillage} Village!); }

function updateHUD() { document.getElementById('hp').innerText = player.hp; document.getElementById('chakraBar').style.width = player.chakra + '%'; }

function log(text) { document.getElementById('log').innerText = text; }

function saveGame() { localStorage.setItem('narutoGame', JSON.stringify({ player, currentVillage })); log("Game saved!"); }

function loadGame() { const save = JSON.parse(localStorage.getItem('narutoGame')); if (save) { player = save.player; currentVillage = save.currentVillage; canvas.style.backgroundImage = url('${villageMaps[currentVillage]}'); updateHUD(); log("Game loaded!"); } else log("No save data found."); }

function resetGame() { player = { x: 400, y: 250, size: 20, color: 'orange', vx: 0, vy: 0, hp: 100, chakra: 100, element: 'Fire', bloodline: 'Uzumaki', stage: 0 }; enemies = []; kunais = []; shurikens = []; fireballs = []; rasengans = []; chidori = []; clones = []; summons = []; updateHUD(); log("Game Reset. Ready to play."); }

function handleHits() { enemies = enemies.filter(e => { return ![...kunais, ...shurikens, ...fireballs, ...rasengans, ...chidori].some(p => Math.abs(p.x - e.x) < 20); }); }

function update() { player.x += player.vx; player.y += player.vy; if (player.chakra < 100) player.chakra += 0.1; handleHits(); }

function draw() { ctx.clearRect(0, 0, canvas.width, canvas.height); drawPlayer(); drawObjects(kunais, 'silver', {w:10,h:4}); drawObjects(shurikens, 'blue', {w:6,h:6}); drawObjects(fireballs, 'orange', {w:12,h:6}); drawObjects(rasengans, 'cyan', {w:16,h:8}); drawObjects(chidori, 'lightblue', {w:12,h:6}); drawEnemies(); drawSummons(); clones.forEach(c => ctx.fillRect(c.x, c.y, 20, 20)); }

function loop() { update(); draw(); requestAnimationFrame(loop); }

document.addEventListener('keydown', e => { if (e.key === 'ArrowUp') player.vy = -2; if (e.key === 'ArrowDown') player.vy = 2; if (e.key === 'ArrowLeft') player.vx = -2; if (e.key === 'ArrowRight') player.vx = 2; });

document.addEventListener('keyup', e => { if (['ArrowUp','ArrowDown'].includes(e.key)) player.vy = 0; if (['ArrowLeft','ArrowRight'].includes(e.key)) player.vx = 0; });

canvas.addEventListener('touchstart', e => { const x = e.touches[0].clientX, y = e.touches[0].clientY; player.vx = x > canvas.width/2 ? 2 : -2; player.vy = y > canvas.height/2 ? 2 : -2; }); canvas.addEventListener('touchend', () => { player.vx = 0; player.vy = 0; });

loadGame(); loop(); </script>

</body>
</html>
